<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1e293b">
    Pinecone PDF Search - Data Flow Diagram &amp; System Architecture
  </text>
  
  <!-- Technology Stack Header -->
  <text x="60" y="70" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#475569">
    Technology Stack:
  </text>
  
  <!-- Technology Badges -->
  <g id="tech-badges">
    <!-- Python -->
    <rect x="60" y="80" width="80" height="25" rx="12" fill="#3776ab"/>
    <text x="100" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">Python</text>
    
    <!-- SentenceTransformers -->
    <rect x="150" y="80" width="140" height="25" rx="12" fill="#ff6b6b"/>
    <text x="220" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">SentenceTransformers</text>
    
    <!-- Pinecone -->
    <rect x="300" y="80" width="80" height="25" rx="12" fill="#00d2ff"/>
    <text x="340" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">Pinecone</text>
    
    <!-- PyPDF2 -->
    <rect x="390" y="80" width="80" height="25" rx="12" fill="#4caf50"/>
    <text x="430" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">PyPDF2</text>
    
    <!-- NumPy -->
    <rect x="480" y="80" width="70" height="25" rx="12" fill="#013243"/>
    <text x="515" y="97" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">NumPy</text>
  </g>
  
  <!-- Step 1: Input -->
  <g id="input-section">
    <rect x="50" y="140" width="150" height="80" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
    <text x="125" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e40af">INPUT</text>
    <text x="125" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e40af">PDF Document</text>
    <text x="125" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">(/path/to/file.pdf)</text>
    <circle cx="70" cy="150" r="8" fill="#3b82f6"/>
    <text x="70" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">1</text>
  </g>
  
  <!-- Arrow 1 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>
  
  <path d="M 200 180 L 260 180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="230" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">extract</text>
  
  <!-- Step 2: Text Extraction -->
  <g id="extraction-section">
    <rect x="270" y="140" width="150" height="80" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="345" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#92400e">TEXT EXTRACTION</text>
    <text x="345" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#92400e">PyPDF2</text>
    <text x="345" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Page-by-page parsing</text>
    <text x="345" y="207" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Clean &amp; format text</text>
    <circle cx="290" cy="150" r="8" fill="#f59e0b"/>
    <text x="290" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">2</text>
  </g>
  
  <!-- Arrow 2 -->
  <path d="M 420 180 L 480 180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="450" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">chunk</text>
  
  <!-- Step 3: Text Chunking -->
  <g id="chunking-section">
    <rect x="490" y="140" width="150" height="80" rx="10" fill="#f3e8ff" stroke="#8b5cf6" stroke-width="2"/>
    <text x="565" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#6b21a8">TEXT CHUNKING</text>
    <text x="565" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6b21a8">Split with Overlap</text>
    <text x="565" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">500 chars, 50 overlap</text>
    <text x="565" y="207" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Preserve context</text>
    <circle cx="510" cy="150" r="8" fill="#8b5cf6"/>
    <text x="510" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">3</text>
  </g>
  
  <!-- Arrow 3 -->
  <path d="M 640 180 L 700 180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="670" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">encode</text>
  
  <!-- Step 4: Embedding Generation -->
  <g id="embedding-section">
    <rect x="710" y="140" width="160" height="80" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
    <text x="790" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#166534">EMBEDDING</text>
    <text x="790" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#166534">SentenceTransformers</text>
    <text x="790" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">all-MiniLM-L6-v2</text>
    <text x="790" y="202" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">384-dim vectors</text>
    <circle cx="730" cy="150" r="8" fill="#22c55e"/>
    <text x="730" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">4</text>
  </g>
  
  <!-- Arrow 4 (downward) -->
  <path d="M 790 220 L 790 280" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="805" y="250" font-family="Arial, sans-serif" font-size="10" fill="#64748b">upsert</text>
  
  <!-- Step 5: Pinecone Database -->
  <g id="database-section">
    <rect x="710" y="290" width="160" height="100" rx="10" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
    <text x="790" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b91c1c">VECTOR DATABASE</text>
    <text x="790" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#b91c1c">Pinecone Index</text>
    <text x="790" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Serverless, AWS</text>
    <text x="790" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Cosine similarity</text>
    <text x="790" y="374" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Metadata storage</text>
    <circle cx="730" cy="305" r="8" fill="#ef4444"/>
    <text x="730" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">5</text>
  </g>
  
  <!-- Query Path - Starting from bottom left -->
  <!-- Step 6: User Query -->
  <g id="query-section">
    <rect x="50" y="290" width="150" height="80" rx="10" fill="#e0f2fe" stroke="#0891b2" stroke-width="2"/>
    <text x="125" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0c4a6e">USER QUERY</text>
    <text x="125" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#0c4a6e">Natural Language</text>
    <text x="125" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">"What is this about?"</text>
    <circle cx="70" cy="305" r="8" fill="#0891b2"/>
    <text x="70" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">6</text>
  </g>
  
  <!-- Arrow 5 (query to embedding) -->
  <path d="M 200 330 L 260 330" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="230" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">encode</text>
  
  <!-- Step 7: Query Embedding -->
  <g id="query-embedding-section">
    <rect x="270" y="290" width="150" height="80" rx="10" fill="#dcfce7" stroke="#22c55e" stroke-width="2"/>
    <text x="345" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#166534">QUERY EMBED</text>
    <text x="345" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#166534">Same Model</text>
    <text x="345" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">384-dim vector</text>
    <circle cx="290" cy="305" r="8" fill="#22c55e"/>
    <text x="290" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">7</text>
  </g>
  
  <!-- Arrow 6 (query embedding to search) -->
  <path d="M 420 330 L 480 330" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="450" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">search</text>
  
  <!-- Step 8: Vector Search -->
  <g id="search-section">
    <rect x="490" y="290" width="150" height="80" rx="10" fill="#fdf4ff" stroke="#a855f7" stroke-width="2"/>
    <text x="565" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7c2d12">VECTOR SEARCH</text>
    <text x="565" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7c2d12">Similarity Match</text>
    <text x="565" y="350" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Top-K results</text>
    <circle cx="510" cy="305" r="8" fill="#a855f7"/>
    <text x="510" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">8</text>
  </g>
  
  <!-- Arrow 7 (search to database) -->
  <path d="M 640 330 L 700 330" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="670" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">query</text>
  
  <!-- Arrow 8 (database back to results) -->
  <path d="M 710 360 L 640 400 L 260 400 L 260 450" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
  <text x="485" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">ranked results</text>
  
  <!-- Step 9: Results -->
  <g id="results-section">
    <rect x="170" y="460" width="200" height="100" rx="10" fill="#f0fdf4" stroke="#16a34a" stroke-width="2"/>
    <text x="270" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#15803d">SEARCH RESULTS</text>
    <text x="270" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#15803d">Ranked by Similarity</text>
    <text x="270" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Text chunks</text>
    <text x="270" y="537" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Confidence scores</text>
    <text x="270" y="549" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">• Source metadata</text>
    <circle cx="190" cy="475" r="8" fill="#16a34a"/>
    <text x="190" y="480" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">9</text>
  </g>
  
  <!-- Performance Metrics Box -->
  <g id="performance-section">
    <rect x="950" y="140" width="200" height="200" rx="10" fill="#f8fafc" stroke="#64748b" stroke-width="1"/>
    <text x="1050" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">Performance Metrics</text>
    
    <!-- Embedding Speed -->
    <text x="970" y="190" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Embedding Speed:</text>
    <text x="970" y="205" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">~50-100 chunks/sec</text>
    
    <!-- Search Latency -->
    <text x="970" y="225" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Search Latency:</text>
    <text x="970" y="240" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">&lt;100ms per query</text>
    
    <!-- Memory Usage -->
    <text x="970" y="260" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Memory Usage:</text>
    <text x="970" y="275" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">~500MB total</text>
    
    <!-- Vector Dimensions -->
    <text x="970" y="295" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Vector Dimensions:</text>
    <text x="970" y="310" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">384 (optimized)</text>
    
    <!-- Index Capacity -->
    <text x="970" y="330" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#374151">Index Capacity:</text>
    <text x="970" y="345" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">100K vectors (free tier)</text>
  </g>
  
  <!-- Key Features Box -->
  <g id="features-section">
    <rect x="950" y="370" width="200" height="180" rx="10" fill="#fefce8" stroke="#ca8a04" stroke-width="1"/>
    <text x="1050" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">Key Features</text>
    
    <!-- Semantic Search -->
    <circle cx="970" cy="415" r="3" fill="#ca8a04"/>
    <text x="980" y="420" font-family="Arial, sans-serif" font-size="11" fill="#92400e">Semantic search beyond keywords</text>
    
    <!-- Real-time -->
    <circle cx="970" cy="435" r="3" fill="#ca8a04"/>
    <text x="980" y="440" font-family="Arial, sans-serif" font-size="11" fill="#92400e">Real-time query processing</text>
    
    <!-- Scalable -->
    <circle cx="970" cy="455" r="3" fill="#ca8a04"/>
    <text x="980" y="460" font-family="Arial, sans-serif" font-size="11" fill="#92400e">Scalable vector storage</text>
    
    <!-- Context preservation -->
    <circle cx="970" cy="475" r="3" fill="#ca8a04"/>
    <text x="980" y="480" font-family="Arial, sans-serif" font-size="11" fill="#92400e">Context-aware chunking</text>
    
    <!-- Cloud-native -->
    <circle cx="970" cy="495" r="3" fill="#ca8a04"/>
    <text x="980" y="500" font-family="Arial, sans-serif" font-size="11" fill="#92400e">Serverless cloud infrastructure</text>
    
    <!-- Multi-format -->
    <circle cx="970" cy="515" r="3" fill="#ca8a04"/>
    <text x="980" y="520" font-family="Arial, sans-serif" font-size="11" fill="#92400e">PDF processing pipeline</text>
    
    <!-- Cost effective -->
    <circle cx="970" cy="535" r="3" fill="#ca8a04"/>
    <text x="980" y="540" font-family="Arial, sans-serif" font-size="11" fill="#92400e">Cost-effective free tier</text>
  </g>
  
  <!-- Data Flow Legend -->
  <g id="legend-section">
    <text x="60" y="600" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">Data Flow Legend:</text>
    
    <!-- Input Flow -->
    <line x1="60" y1="620" x2="90" y2="620" stroke="#3b82f6" stroke-width="3"/>
    <text x="100" y="625" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Input Processing Flow</text>
    
    <!-- Query Flow -->
    <line x1="60" y1="640" x2="90" y2="640" stroke="#0891b2" stroke-width="3"/>
    <text x="100" y="645" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Query Processing Flow</text>
    
    <!-- Return Flow -->
    <line x1="60" y1="660" x2="90" y2="660" stroke="#16a34a" stroke-width="3"/>
    <text x="100" y="665" font-family="Arial, sans-serif" font-size="12" fill="#64748b">Results Return Flow</text>
  </g>
  
  <!-- Architecture Notes -->
  <g id="notes-section">
    <text x="400" y="600" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">Architecture Notes:</text>
    <text x="400" y="625" font-family="Arial, sans-serif" font-size="12" fill="#64748b">• CPU-based local embeddings for cost efficiency</text>
    <text x="400" y="645" font-family="Arial, sans-serif" font-size="12" fill="#64748b">• Serverless Pinecone for zero-ops vector storage</text>
    <text x="400" y="665" font-family="Arial, sans-serif" font-size="12" fill="#64748b">• Overlapping chunks preserve semantic context</text>
    <text x="400" y="685" font-family="Arial, sans-serif" font-size="12" fill="#64748b">• Batch processing optimizes API efficiency</text>
  </g>
  
  <!-- Footer -->
  <text x="600" y="750" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#64748b">
    GitHub:     Pinecone_embed_all-MiniLM-L6-v2-sentence-transformer-model| Created with Python, SentenceTransformers, and Pinecone Vector Database
  </text>
</svg>
